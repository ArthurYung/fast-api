(this["webpackJsonpfast-api"]=this["webpackJsonpfast-api"]||[]).push([[10],{106:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(642),c=n(634),o=n(169),l=n.n(o),u=n(170),s=n.n(u),d=n(168),m=n.n(d),f=n(171),p=n.n(f),b=function(e){var t=e.type;return"success"===t?r.a.createElement(m.a,null):"warn"===t?r.a.createElement(l.a,null):"error"===t?r.a.createElement(s.a,null):r.a.createElement(p.a,null)};t.a=function(e){var t=e.message,n=e.visible,a=e.closed,o=e.type,l=void 0===o?"info":o;return r.a.createElement("span",null,r.a.createElement(i.a,{anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3,open:n,onClose:function(e,t){"clickaway"!==t&&a()},className:"message-box-"+l},r.a.createElement(c.a,{className:"message-content","aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:"message-content-txt"},r.a.createElement(b,{type:l}),t)})))}},133:function(e,t,n){"use strict";var a=n(113),r=n.n(a),i=n(114),c=n(18),o=n(13),l=n(0),u=n.n(l),s=n(30),d=n(35),m=Object(s.b)(function(e){return{historyData:e.history}},function(e){return{deleteTimer:function(t){e(Object(d.c)(t))}}}),f=n(625),p=n(627),b=n(624),v=n(326),y=n(164),h=n.n(y),E=n(602),g=n(631),O=n(325),j=n(163),k=n.n(j),w=n(161),C=n.n(w),D=n(628),S=n(629);function T(e,t){if(Boolean(e)){var n={yyyy:(e=e instanceof Date?e:new Date(e)).getFullYear().toString(),mm:("0"+(e.getMonth()+1)).slice(-2),dd:("0"+e.getDate()).slice(-2),HH:("0"+e.getHours()).slice(-2),MM:("0"+e.getMinutes()).slice(-2),SS:("0"+e.getSeconds()).slice(-2)};return t||(t="yyyy-mm-dd HH:MM:SS"),t=t.replace(/d{1,4}|m{1,4}|yy(?:yy)?|H{1,2}|M{1,2}|S{1,2}/g,function(e){return e in n?n[e]:""})}return""}var x=function(e){var t=e.info,n=e.deleteTimer,a=e.collectTimer,r=Object(l.useState)(1),i=Object(o.a)(r,2),c=i[0],s=i[1],d=Object(l.useState)(null),m=Object(o.a)(d,2),y=m[0],j=m[1],w=Boolean(y),x=2===t.status?"result-error":"result-success",N=[];function _(){j(null)}return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t.forEach(function(t){N.push({name:n+t.name,useTime:t.useTime}),t.children.length&&e(t.children,t.name)})}(t.children),u.a.createElement("aside",{className:"result-card"},u.a.createElement(b.a,{in:Boolean(c)},u.a.createElement(f.a,null,u.a.createElement(p.a,{avatar:u.a.createElement(O.a,{"aria-label":"recipe",className:x},1===t.status?u.a.createElement(C.a,null):u.a.createElement(k.a,null)),action:u.a.createElement(v.a,{"aria-label":"settings",onClick:function(e){j(e.currentTarget)}},u.a.createElement(h.a,null)),title:t.name,subheader:T(t.date,"mm-dd HH:MM:SS"),className:"result-card-header"}),u.a.createElement(D.a,null,N.map(function(e,t){return u.a.createElement("div",{className:"result-card-item",key:t},u.a.createElement("span",{className:"card-item-root"},e.name),u.a.createElement("span",{className:"card-item-time"},e.useTime,"ms"))})),u.a.createElement(S.a,null),u.a.createElement(D.a,null,1===t.status?u.a.createElement("div",{className:"result-active-success"},"use: ",t.useTime,"ms"):u.a.createElement("div",{className:"result-active-error"},t.error)))),u.a.createElement(E.a,{id:"long-menu",anchorEl:y,keepMounted:!0,open:w,onClose:_,PaperProps:{style:{width:120}}},u.a.createElement(g.a,{onClick:function(){_(),a(t)}},"Collect"),u.a.createElement(g.a,{onClick:function(){s(0),_(),setTimeout(function(){return n(t)},300)}},"Delete")))},N=n(635),_=n(639),M=n(172),I=n.n(M),H=n(630),P=n(632),V=n(633),A=n(42),R=n(167),B=n.n(R),F=n(166),L=n.n(F),U=function(e){var t=e.replayCollect,n=e.deleteCollect,a=Object(l.useState)([]),c=Object(o.a)(a,2),s=c[0],d=c[1];function m(){return(m=Object(i.a)(r.a.mark(function e(t){var a,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t);case 2:if(1===e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Object(A.c)();case 7:a=e.sent,(i=a.data)&&d(i);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(l.useEffect)(function(){Object(A.c)().then(function(e){d(e.data)})},[]),u.a.createElement("aside",{className:"collector-box"},u.a.createElement(H.a,null,s.map(function(e){return u.a.createElement(P.a,{key:e.id},u.a.createElement(V.a,{primary:e.timerInfo.name,secondary:T(e.timerInfo.date)}),u.a.createElement(v.a,{edge:"end","aria-label":"play",onClick:function(){return t(e)}},u.a.createElement(L.a,null)),u.a.createElement(v.a,{edge:"end","aria-label":"delete",onClick:function(){return function(e){return m.apply(this,arguments)}(e)}},u.a.createElement(B.a,null)))})))},W=n(106),J=n(41),z=n(12);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}t.a=m(Object(z.f)(function(e){var t=e.historyData,n=e.deleteTimer,a=e.history,s=Object(l.useState)(!1),d=Object(o.a)(s,2),m=d[0],f=d[1],p=Object(l.useState)({type:"success",visible:!1,message:""}),b=Object(o.a)(p,2),v=b[0],y=b[1];function h(e){var t=e.type,n=e.message;y({type:t,message:n,visible:!0})}function E(e){var t=J.a.getDatabaseInfo(e.uid),n={timerInfo:e,codeInfo:t,type:t.type};Object(A.a)(n).then(function(){h({type:"success",message:"Saved timer record"})}).catch(function(e){h({type:"warn",message:String(e)})})}function g(){return(g=Object(i.a)(r.a.mark(function e(t){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.id){e.next=2;break}return e.abrupt("return",0);case 2:return e.next=4,Object(A.b)(t.id);case 4:if(n=e.sent,!(a=n.error)){e.next=9;break}return h({type:"error",message:a.message}),e.abrupt("return",0);case 9:return e.abrupt("return",1);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}return u.a.createElement(l.Fragment,null,u.a.createElement("aside",{className:"history-box"},u.a.createElement("div",{className:"collector-button"},u.a.createElement(N.a,{variant:"extended","aria-label":"open",onClick:function(){f(!0)}},u.a.createElement(I.a,null),"Open Collector")),t.map(function(e){return u.a.createElement(x,{key:e.id,info:e,deleteTimer:n,collectTimer:E})})),u.a.createElement(_.a,{anchor:"right",open:m,onClose:function(){f(!1)}},u.a.createElement(U,{replayCollect:function(e){1===e.type?a.push({state:e.codeInfo,pathname:"/custom",search:"?type=1"+Date.now()}):2===e.type&&a.push({state:e.codeInfo,pathname:"/custom",search:"?type=2"+Date.now()}),f(!1)},deleteCollect:function(e){return g.apply(this,arguments)}})),u.a.createElement(W.a,{visible:v.visible,type:v.type,closed:function(){y(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},v,{visible:!1}))},message:v.message}))}))},174:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var a=n(13),r=n(22),i=n(9),c=n(31),o=n(32),l=n(33),u=n(0),s=n.n(u),d=n(107),m=n.n(d),f=(n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(o.a)(t).call(this,e))).editorId=void 0,n.Editor=void 0,n.Doc=void 0,n.showHintTimeout=void 0,n.editorId=Date.now()+"",n.Editor=null,n.Doc=null,n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=document.getElementById(this.editorId);this.Editor=m.a.fromTextArea(e,{lineNumbers:!0,styleActiveLine:!0,matchBrackets:!0,mode:"text/javascript",indentWithTabs:!0,lineWrapping:!0,theme:"dracula"}),this.Doc=this.Editor.getDoc(),this._bindEditorEvent(),this._initEditorValue()}},{key:"_initEditorValue",value:function(){this.props.value&&this.Doc.setValue(this.props.value)}},{key:"_bindEditorEvent",value:function(){var e=this;this.Editor.on("change",function(t,n){if("+input"===n.origin){if(clearTimeout(e.showHintTimeout),!function(e){return!!e&&(""!==e&&(" "!==e&&("="!==e&&("= "!==e&&(";"!==e&&("; "!==e&&(","!==e&&", "!==e)))))))}(Object(a.a)(n.text,1)[0]))return;e.showHintTimeout=setTimeout(function(){t.execCommand("autocomplete")},300)}})}},{key:"getEditorValue",value:function(){return this.Doc?this.Doc.getValue():""}},{key:"render",value:function(){return s.a.createElement("div",{className:"editor-content"},s.a.createElement("textarea",{id:this.editorId,name:"code",style:{border:"none"}}))}}]),t}(s.a.Component))},72:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(133),c=n(22),o=n(9),l=n(31),u=n(32),s=n(33),d=n(328),m=n(123),f=n.n(m),p=n(324),b=n(174),v=n(175),y=n(130),h=n(96),E=n.n(h),g=n(85);var O=function(e){return g.variableDeclaration("var",[g.variableDeclarator(e.uid,g.callExpression(g.identifier("__start"),[g.stringLiteral(e.tid),g.stringLiteral(e.gid)]))])},j=function(e){return g.expressionStatement(g.callExpression(g.identifier("__end"),[g.stringLiteral(e.tid),g.stringLiteral(e.gid),e.uid]))},k=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=g.blockStatement([e,g.tryStatement(g.blockStatement(n),null,g.blockStatement([t]))]);return a};var w=0;function C(e){var t=++w+"",n={},a=Object(y.parse)(e,{sourceType:"module"});return E()(a,{Function:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){if(!function(e){var t=e.get("body").node;return!!t.body&&!t.body.length}(e)){var a=e.scope.generateUidIdentifier("_uid"),r=e.scope.generateUid("_tid"),i=function(e){var t=e.parentPath.node;return"AssignmentExpression"===t.type?t.left.property.name:"VariableDeclarator"===t.type?t.id.name:"CallExpression"===t.type?t.callee.name+"<CallBack>":e.node.id?e.node.id.name:"anonymous"}(e),c={gid:t,uid:a,tid:r,path:e};n[r]=i,function(e){var t=e.gid,n=e.tid,a=e.uid,r=e.path,i=O({gid:t,tid:n,uid:a}),c=j({gid:t,tid:n,uid:a}),o=k(i,c,r.node.body.body);r.get("body").replaceWith(o)}(c)}})}),E()(a,{enter:function(e){if(e.isProgram()){var a=e.scope.generateUidIdentifier("_uid"),r={gid:t,uid:a,tid:t,path:e};n[t]="root",function(e){var t=e.gid,n=e.tid,a=e.uid,r=e.path,i=O({gid:t,tid:n,uid:a}),c=j({gid:t,tid:n,uid:a});r.unshiftContainer("body",i),r.pushContainer("body",c)}(r),e.skip()}}}),{id:t,ast:a,funcNameMap:n}}var D,S,T=function(e){var t=C(e),n=t.ast,a=t.id,r=t.funcNameMap,i=Object(v.transformFromAstSync)(n);return i?{id:a,code:i.code,nameMap:r}:{id:a,code:"",nameMap:r}},x={},N=!1,_=0;function M(e,t){if(D!==t)return"-1";var n=++_+"",a=window.performance.now();return console.log(a),x[n]={_tid:e,_gid:t,start:a,end:0,async:N},n}function I(e,t,n){if(D===t){var a=window.performance.now();x[n].end=a,N&&S(H())}}function H(){N=!0;var e=function(e){var t={id:e,time:0,child:{},async:{}};return{addTime:function(n,a){a===e?t.time=n:t.child[a]=n},addAsyncTime:function(n,a){a===e?t.time=n:t.async[a]=n},getData:function(){return t}}}(D);return Object.keys(x).forEach(function(t){var n=x[t],a=n.end,r=n.start,i=n._tid,c=n.async;if(a>=r){var o=a-r;c?e.addAsyncTime(o,i):e.addTime(o,i)}}),e.getData()}var P="\nlet i = 0;\nfunction jacs() {\n  i++\n}\nconst testFun = (d) => {\n  return d + 1\n}\n\nconst j = function(){}\n\n",V=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).codeRef=void 0,n.state=void 0,n.state={toES5:!1,initCodeRefValue:P},n.codeRef=r.a.createRef(),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"runCurrentApiTest",value:function(){var e=T(this.codeRef.current.getEditorValue());if(e.code){var t=new Function("__start","__end",e.code);!function(e,t){D=e,x={},N=!1,S=t}(e.id,function(e){return console.log(e)});try{t(M,I)}catch(n){}H()}}},{key:"render",value:function(){var e=this;return r.a.createElement("article",{className:"code-main"},r.a.createElement("section",null,r.a.createElement("div",{className:"component-title"},"Edit Custom Code"),r.a.createElement(d.a,{variant:"contained",color:"primary",onClick:function(){return e.runCurrentApiTest()}},"Run Test",r.a.createElement(f.a,null))),r.a.createElement("section",null,r.a.createElement(p.a,{variant:"subtitle1",gutterBottom:!0},"Code under test:"),r.a.createElement("div",null,r.a.createElement(b.a,{ref:this.codeRef,value:this.state.initCodeRefValue}))))}}]),t}(r.a.Component);t.default=function(){return r.a.createElement("div",{className:"code-box"},r.a.createElement(V,null),r.a.createElement(i.a,null))}}}]);
//# sourceMappingURL=10.f5ce6039.chunk.js.map