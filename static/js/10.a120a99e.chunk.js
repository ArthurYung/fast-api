(window["webpackJsonpfast-api"]=window["webpackJsonpfast-api"]||[]).push([[10],{105:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(649),c=n(642),o=n(175),s=n.n(o),u=n(176),l=n.n(u),d=n(174),m=n.n(d),f=n(177),p=n.n(f),y=function(e){var t=e.type;return"success"===t?r.a.createElement(m.a,null):"warn"===t?r.a.createElement(s.a,null):"error"===t?r.a.createElement(l.a,null):r.a.createElement(p.a,null)};t.a=function(e){var t=e.message,n=e.visible,a=e.closed,o=e.type,s=void 0===o?"info":o;return r.a.createElement("span",null,r.a.createElement(i.a,{anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3,open:n,onClose:function(e,t){"clickaway"!==t&&a()},className:"message-box-"+s},r.a.createElement(c.a,{className:"message-content","aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:"message-content-txt"},r.a.createElement(y,{type:s}),t)})))}},116:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c});var a={};function r(e,t){a[e.id]={baseInfo:e,nameMap:t}}function i(e){return a[e].baseInfo}function c(e,t){var n=function(e){return a[e].nameMap}(e);return n&&n[t]||t}},135:function(e,t,n){"use strict";var a=n(114),r=n.n(a),i=n(115),c=n(18),o=n(13),s=n(0),u=n.n(s),l=n(31),d=n(24),m=Object(l.b)(function(e){return{historyData:e.history}},function(e){return{deleteTimer:function(t){e(Object(d.f)(t))},setCurrCodeInfo:function(t){e(Object(d.g)(t))}}}),f=n(632),p=n(634),y=n(631),b=n(334),h=n(167),v=n.n(h),g=n(610),E=n(638),O=n(333),j=n(166),k=n.n(j),C=n(164),T=n.n(C),w=n(635),D=n(636);function x(e,t){if(Boolean(e)){var n={yyyy:(e=e instanceof Date?e:new Date(e)).getFullYear().toString(),mm:("0"+(e.getMonth()+1)).slice(-2),dd:("0"+e.getDate()).slice(-2),HH:("0"+e.getHours()).slice(-2),MM:("0"+e.getMinutes()).slice(-2),SS:("0"+e.getSeconds()).slice(-2)};return t||(t="yyyy-mm-dd HH:MM:SS"),t=t.replace(/d{1,4}|m{1,4}|yy(?:yy)?|H{1,2}|M{1,2}|S{1,2}/g,function(e){return e in n?n[e]:""})}return""}var S=function(e){var t=e.info,n=e.deleteTimer,a=e.collectTimer,r=Object(s.useState)(1),i=Object(o.a)(r,2),c=i[0],l=i[1],d=Object(s.useState)(null),m=Object(o.a)(d,2),h=m[0],j=m[1],C=Boolean(h),S=2===t.status?"result-error":"result-success";function N(){j(null)}return u.a.createElement("aside",{className:"result-card"},u.a.createElement(y.a,{in:Boolean(c)},u.a.createElement(f.a,null,u.a.createElement(p.a,{avatar:u.a.createElement(O.a,{"aria-label":"recipe",className:S},1===t.status?u.a.createElement(T.a,null):u.a.createElement(k.a,null)),action:u.a.createElement(b.a,{"aria-label":"settings",onClick:function(e){j(e.currentTarget)}},u.a.createElement(v.a,null)),title:t.name,subheader:x(t.date,"mm-dd HH:MM:SS"),className:"result-card-header"}),u.a.createElement(w.a,null,t.children.map(function(e,t){return u.a.createElement("div",{className:"result-card-item",key:t},u.a.createElement("span",{className:e.async?"card-item-root async":"card-item-root"},e.name),u.a.createElement("span",{className:"card-item-time"},e.time,"ms"))})),u.a.createElement(D.a,null),u.a.createElement(w.a,null,1===t.status?u.a.createElement("div",{className:"result-active-success"},"use: ",t.useTime,"ms"):u.a.createElement("div",{className:"result-active-error"},t.error)))),u.a.createElement(g.a,{id:"long-menu",anchorEl:h,keepMounted:!0,open:C,onClose:N,PaperProps:{style:{width:120}}},u.a.createElement(E.a,{onClick:function(){N(),a(t)}},"Collect"),u.a.createElement(E.a,{onClick:function(){l(0),N(),setTimeout(function(){return n(t)},300)}},"Delete")))},N=n(643),M=n(648),I=n(178),_=n.n(I),H=n(637),P=n(639),V=n(641),R=n(42),A=n(173),B=n.n(A),F=n(172),L=n.n(F),W=n(640),U=n(646),J=n(170),Y=n.n(J),z=n(171),q=n.n(z),G=function(e){var t=e.replayCollect,n=e.deleteCollect,a=Object(s.useState)([]),c=Object(o.a)(a,2),l=c[0],d=c[1];function m(){return f.apply(this,arguments)}function f(){return(f=Object(i.a)(r.a.mark(function e(){var t,n,a,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.c)();case 2:t=e.sent,(n=t.data)&&(a=n.filter(function(e){return e.liked}),i=n.filter(function(e){return!e.liked}),d(a.concat(i)));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(){return(p=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t);case 2:if(1===e.sent){e.next=5;break}return e.abrupt("return");case 5:m();case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(){return(y=Object(i.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.liked=!t.liked,e.next=3,Object(R.e)(t);case 3:return e.next=5,m();case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(s.useEffect)(function(){m()},[]),u.a.createElement("aside",{className:"collector-box"},u.a.createElement(H.a,null,l.map(function(e){return u.a.createElement(P.a,{key:e.id},u.a.createElement(W.a,{control:u.a.createElement(U.a,{icon:u.a.createElement(Y.a,null),checkedIcon:u.a.createElement(q.a,null),checked:e.liked,value:"checkedH"}),label:"",onClick:function(){return function(e){return y.apply(this,arguments)}(e)}}),u.a.createElement(V.a,{primary:e.timerInfo.name,secondary:x(e.timerInfo.date)}),u.a.createElement(b.a,{edge:"end","aria-label":"play",onClick:function(){return t(e)}},u.a.createElement(L.a,null)),u.a.createElement(b.a,{edge:"end","aria-label":"delete",onClick:function(){return function(e){return p.apply(this,arguments)}(e)}},u.a.createElement(B.a,null)))})))},K=n(105),Q=n(41),X=n(116),Z=n(12);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}t.a=m(Object(Z.f)(function(e){var t=e.historyData,n=e.deleteTimer,a=e.history,l=e.setCurrCodeInfo,d=Object(s.useState)(!1),m=Object(o.a)(d,2),f=m[0],p=m[1],y=Object(s.useState)({type:"success",visible:!1,message:""}),b=Object(o.a)(y,2),h=b[0],v=b[1];function g(e){var t=e.type,n=e.message;v({type:t,message:n,visible:!0})}function E(e){var t=e.uid.indexOf("code")>-1?Object(X.a)(e.uid):Q.a.getDatabaseInfo(e.uid),n={timerInfo:e,codeInfo:t,type:t.type,liked:!1};Object(R.a)(n).then(function(){g({type:"success",message:"Saved timer record"})}).catch(function(e){g({type:"warn",message:String(e)})})}function O(){return(O=Object(i.a)(r.a.mark(function e(t){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.id){e.next=2;break}return e.abrupt("return",0);case 2:return e.next=4,Object(R.b)(t.id);case 4:if(n=e.sent,!(a=n.error)){e.next=9;break}return g({type:"error",message:a.message}),e.abrupt("return",0);case 9:return e.abrupt("return",1);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}return u.a.createElement(s.Fragment,null,u.a.createElement("aside",{className:"history-box"},u.a.createElement("div",{className:"collector-button"},u.a.createElement(N.a,{variant:"extended","aria-label":"open",onClick:function(){p(!0)}},u.a.createElement(_.a,null),"Open Collector")),t.map(function(e){return u.a.createElement(S,{key:e.id,info:e,deleteTimer:n,collectTimer:E})})),u.a.createElement(M.a,{anchor:"right",open:f,onClose:function(){p(!1)}},u.a.createElement(G,{replayCollect:function(e){1===e.type?a.push({pathname:"/custom",search:"?type=1"+Date.now()}):2===e.type?(a.push({pathname:"/custom",search:"?type=2"+Date.now()}),l(e.codeInfo)):3===e.type&&a.push({pathname:"/code"}),l(e.codeInfo),p(!1)},deleteCollect:function(e){return O.apply(this,arguments)}})),u.a.createElement(K.a,{visible:h.visible,type:h.type,closed:function(){v(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(n,!0).forEach(function(t){Object(c.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},h,{visible:!1}))},message:h.message}))}))},179:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var a=n(13),r=n(23),i=n(9),c=n(32),o=n(33),s=n(34),u=n(0),l=n.n(u),d=n(110),m=n.n(d),f=(n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(c.a)(this,Object(o.a)(t).call(this,e))).editorId=void 0,n.Editor=void 0,n.Doc=void 0,n.showHintTimeout=void 0,n.editorId=Date.now()+"",n.Editor=null,n.Doc=null,n}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=document.getElementById(this.editorId);this.Editor=m.a.fromTextArea(e,{lineNumbers:!0,styleActiveLine:!0,matchBrackets:!0,mode:"text/javascript",indentWithTabs:!0,lineWrapping:!0,theme:"dracula"}),this.Doc=this.Editor.getDoc(),this._bindEditorEvent(),this._initEditorValue()}},{key:"_initEditorValue",value:function(){this.props.value&&this.Doc.setValue(this.props.value)}},{key:"_bindEditorEvent",value:function(){var e=this;this.Editor.on("change",function(t,n){if("+input"===n.origin){if(clearTimeout(e.showHintTimeout),!function(e){return!!e&&!p.includes(e.trim())}(Object(a.a)(n.text,1)[0]))return;e.showHintTimeout=setTimeout(function(){t.execCommand("autocomplete")},300)}})}},{key:"getEditorValue",value:function(){return this.Doc?this.Doc.getValue():""}},{key:"resetCode",value:function(e){this.Doc&&this.Doc.setValue(e)}},{key:"render",value:function(){return l.a.createElement("div",{className:"editor-content"},l.a.createElement("textarea",{id:this.editorId,name:"code",style:{border:"none"}}))}}]),t}(l.a.Component)),p=["","=",";",",",")","}","]"]},72:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(135),c=n(23),o=n(9),s=n(32),u=n(33),l=n(34),d=n(336),m=n(125),f=n.n(m),p=n(332),y=n(179),b=n(180),h=n(132),v=n(97),g=n.n(v),E=n(85);function O(e){return e.name?e.name:e.property&&e.property.name?e.property.name:e.object?O(e.object.callee):""}var j=function(e){return E.variableDeclaration("var",[E.variableDeclarator(e.uid,E.callExpression(E.identifier("__start"),[E.stringLiteral(e.tid),E.stringLiteral(e.gid)]))])},k=function(e){return E.expressionStatement(E.callExpression(E.identifier("__end"),[E.stringLiteral(e.tid),E.stringLiteral(e.gid),e.uid]))},C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=E.blockStatement([e,E.tryStatement(E.blockStatement(n),null,E.blockStatement([t]))]);return a};var T=0;function w(e){var t="code"+ ++T,n={},a=Object(h.parse)(e,{sourceType:"module"});return g()(a,{Function:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){if(!function(e){var t=e.get("body").node;return!!t.body&&!t.body.length}(e)){var a=e.scope.generateUidIdentifier("_uid"),r=e.scope.generateUid("_tid"),i=function(e){var t=e.parentPath.node;return"AssignmentExpression"===t.type?t.left.property.name:"VariableDeclarator"===t.type?t.id.name:"CallExpression"===t.type?"<CallBack>"+O(t.callee):"NewExpression"===t.type?O(t.callee):e.node.id?e.node.id.name:"anonymous"}(e),c={gid:t,uid:a,tid:r,path:e};n[r]=i,function(e){var t=e.gid,n=e.tid,a=e.uid,r=e.path,i=j({gid:t,tid:n,uid:a}),c=k({gid:t,tid:n,uid:a}),o=C(i,c,r.node.body.body);r.get("body").replaceWith(o)}(c)}})}),g()(a,{enter:function(e){if(e.isProgram()){var a=e.scope.generateUidIdentifier("_uid"),r={gid:t,uid:a,tid:t,path:e};n[t]="root",function(e){var t=e.gid,n=e.tid,a=e.uid,r=e.path,i=j({gid:t,tid:n,uid:a}),c=k({gid:t,tid:n,uid:a});r.unshiftContainer("body",i),r.pushContainer("body",c)}(r),e.skip()}}}),{id:t,ast:a,funcNameMap:n}}var D,x,S=function(e){var t=w(e),n=t.ast,a=t.id,r=t.funcNameMap,i=Object(b.transformFromAstSync)(n);return i?{id:a,code:i.code,nameMap:r}:{id:a,code:"",nameMap:r}},N={},M=!1,I=0;function _(e,t){if(D!==t)return"-1";var n=++I+"",a=window.performance.now();return N[n]={_tid:e,_gid:t,start:a,end:0,async:M},n}function H(e,t,n){if(D===t){var a=window.performance.now();N[n].end=a,M&&x(P())}}function P(){M=!0;var e=function(e){var t={id:e,time:0,child:{},async:{}};return{addTime:function(n,a){a===e?t.time=n:t.child[a]=t.child[a]?t.child[a]+=n:n},addAsyncTime:function(n,a){a===e?t.time=n:t.async[a]=t.async[a]?t.async[a]+=n:n},getData:function(){return t}}}(D);return Object.keys(N).forEach(function(t){var n=N[t],a=n.end,r=n.start,i=n._tid,c=n.async;if(a>=r){var o=a-r;c?e.addAsyncTime(o,i):e.addTime(o,i)}}),e.getData()}var V=n(116),R=n(105),A=n(31),B=n(45),F=n(24),L=Object(A.b)(function(e){return{progress:e.progress,currCode:e.currCode}},function(e){return{updateProgress:function(t){e(Object(B.b)(t))},updateHistoryTimer:function(t){e(Object(F.h)(t))},changeHistoryTimer:function(t){e(Object(F.e)(t))}}}),W="let i = 0;\n\nfunction test() {\n  i++\n}\n\nconst testFun = (d) => {\n  return d + 1\n}\n\nconst run = function(){\n  testFun(3)\n}\n\nrun()\n";function U(e,t,n){var a=Object.keys(t).map(function(n){return{name:Object(V.b)(e,n),time:t[n],async:!1}}),r=Object.keys(n).map(function(t){return{name:Object(V.b)(e,t),time:n[t],async:!0}});return a.concat(r)}var J=L(function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).codeRef=void 0,n.state=void 0,n.state={toES5:!1,msgType:"info",message:"",msgVisible:!1,initCodeRefValue:e.currCode&&3===e.currCode.type?e.currCode.baseCode:W},n.codeRef=r.a.createRef(),n}return Object(l.a)(t,e),Object(o.a)(t,[{key:"shouldComponentUpdate",value:function(e){return e.currCode===this.props.currCode||(e.currCode&&this.codeRef.current.resetCode(e.currCode.baseCode),!0)}},{key:"runCurrentApiTest",value:function(){var e=this;if(!this.props.progress){this.props.updateProgress(!0);var t=this.codeRef.current.getEditorValue();try{var n=S(t)}catch(a){return this.showMessage({type:"error",message:a.message}),void this.props.updateProgress(!1)}setTimeout(function(){if(n.code){var r=null;try{var i=new Function("__start","__end",n.code);!function(e,t){D=e,N={},M=!1,x=t}(n.id,e.TimerDataWatcher.bind(e)),i(_,H)}catch(a){console.log("error"),r=a.message}var c=P();r&&(c.error=r),e.setCodeInfoCache(n,t),e.initTimerData(c),e.props.updateProgress(!1)}},300)}}},{key:"initTimerData",value:function(e){var t={id:e.id,uid:e.id,name:"Code Test",status:e.error?2:1,error:e.error,startTime:0,endTime:0,children:[],useTime:e.time,date:Date.now()};t.children=U(e.id,e.child,e.async),this.props.updateHistoryTimer(t)}},{key:"TimerDataWatcher",value:function(e){var t={id:e.id,children:U(e.id,e.child,e.async)};this.props.changeHistoryTimer(t)}},{key:"setCodeInfoCache",value:function(e,t){var n={id:e.id,baseCode:t,type:3,name:"Code Test"};Object(V.c)(n,e.nameMap)}},{key:"showMessage",value:function(e){var t=e.type,n=e.message;this.setState({msgType:t,message:n,msgVisible:!0})}},{key:"closeMessage",value:function(){this.setState({msgVisible:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement("article",{className:"code-main"},r.a.createElement("section",null,r.a.createElement("div",{className:"component-title"},"Test Cases"),r.a.createElement(d.a,{variant:"contained",color:"primary",onClick:function(){return e.runCurrentApiTest()}},"Run Test",r.a.createElement(f.a,null))),r.a.createElement("section",{style:{marginTop:"40px"}},r.a.createElement(p.a,{variant:"subtitle1",gutterBottom:!0},"Coding Your Test Cases:"),r.a.createElement("div",{className:"code-editor-box"},r.a.createElement(y.a,{ref:this.codeRef,value:this.state.initCodeRefValue}))),r.a.createElement(R.a,{visible:this.state.msgVisible,type:this.state.msgType,closed:function(){return e.closeMessage()},message:this.state.message}))}}]),t}(r.a.Component));t.default=function(){return r.a.createElement("div",{className:"code-box"},r.a.createElement(J,null),r.a.createElement(i.a,null))}}}]);
//# sourceMappingURL=10.a120a99e.chunk.js.map